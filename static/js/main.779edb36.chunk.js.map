{"version":3,"sources":["components/utils/styles.module.css","components/Components/Searchbar/Searchbar.js","components/utils/key.js","components/utils/image-api.js","components/Components/Modal/Modal.js","components/Components/ImageGallery/ImageGalleryItem/ImageGalleryItem.js","components/Components/ImageGallery/ImageGallery.js","components/Components/Button/Button.js","components/GalleryContainer/GalleryContainer.js","components/App.js","index.js"],"names":["module","exports","Searchbar","state","query","handleChange","e","target","value","setState","handleSubmit","preventDefault","props","onChangeQuery","reset","this","className","s","SearchForm","onSubmit","type","autoComplete","autoFocus","placeholder","onChange","Component","KEY","get","page","response","axios","Modal","closeModal","children","escCloseModal","key","useEffect","window","addEventListener","removeEventListener","styles","Overlay","onClick","nodeName","ImageGalleryItem","url","alt","largeImageURL","useState","isModalOpen","setIsModalOpen","src","ImageGallery","gallery","map","id","webformatURL","tags","Button","pageChanger","GalleryContainer","isLoading","error","fetchRequest","a","data","hits","prevProps","prevState","result","request","scrollTo","top","document","documentElement","scrollHeight","behavior","length","App","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.779edb36.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"styles_App__28Tsy\",\"Searchbar\":\"styles_Searchbar__3Wxc5\",\"SearchForm\":\"styles_SearchForm__dkXYd\",\"SearchForm-button\":\"styles_SearchForm-button__J-yAg\",\"SearchForm-button-label\":\"styles_SearchForm-button-label__3Ax0e\",\"SearchForm-input\":\"styles_SearchForm-input__1D6PU\",\"ImageGallery\":\"styles_ImageGallery__4aR8i\",\"ImageGalleryItem\":\"styles_ImageGalleryItem__3JwnN\",\"ImageGalleryItem-image\":\"styles_ImageGalleryItem-image__2wAdY\",\"Overlay\":\"styles_Overlay__2p5JB\",\"Modal\":\"styles_Modal__3DyLS\",\"Button\":\"styles_Button__1w6MY\",\"Loader\":\"styles_Loader__R11fG\"};","import React, { Component } from 'react';\n\nimport s from '../../utils/styles.module.css';\nimport PropTypes from 'prop-types';\n\nclass Searchbar extends Component {\n  state = {\n    query: '',\n  };\n\n  handleChange = e => {\n    const query = e.target.value;\n    this.setState({\n      query,\n    });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    this.props.onChangeQuery(this.state.query);\n    this.reset();\n  };\n\n  reset = () => {\n    this.setState({\n      query: '',\n    });\n  };\n\n  render() {\n    const query = this.state.query;\n    return (\n      <>\n        <header className={s.Searchbar}>\n          <form className={s.SearchForm} onSubmit={this.handleSubmit}>\n            <button type=\"submit\" className={s['SearchForm-button']}>\n              <span className={s['SearchForm-button-label']}>Search</span>\n            </button>\n\n            <input\n              className={s['SearchForm-input']}\n              type=\"text\"\n              autoComplete=\"off\"\n              autoFocus\n              placeholder=\"Search images and photos\"\n              onChange={this.handleChange}\n              value={query}\n            />\n          </form>\n        </header>\n      </>\n    );\n  }\n}\n\nSearchbar.propTypes = {\n  onChangeQuery: PropTypes.func.isRequired,\n};\n\nexport default Searchbar;\n","const KEY = '19030410-2c5fe4ac9573efb3689b839da';\nexport default KEY;\n","import KEY from './key';\nimport axios from 'axios';\n\nconst get = (query, page = 1) => {\n  const response = axios.get(\n    `https://pixabay.com/api/?q=${query}&page=${page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`,\n  );\n  return response;\n};\n\nexport default get;\n","import React, { useEffect } from \"react\";\nimport styles from \"../../utils/styles.module.css\";\nimport PropTypes from \"prop-types\";\n\nconst Modal = ({ closeModal, children }) => {\n  const modalCloseFunc = (e) => {\n    if (e.target.nodeName === \"IMG\") {\n      return;\n    }\n    closeModal();\n  };\n\n  const escCloseModal = (e) => {\n    if (e.key !== \"Escape\") {\n      return;\n    }\n    closeModal();\n  };\n\n  useEffect(() => {\n    window.addEventListener(\"keydown\", escCloseModal);\n    return () => {\n      window.removeEventListener(\"keydown\", escCloseModal);\n    };\n  });\n\n  return (\n    <div className={styles.Overlay} onClick={modalCloseFunc}>\n      <div className={styles.Modal}>\n        <>{children}</>\n      </div>\n    </div>\n  );\n};\nModal.propTypes = {\n  closeModal: PropTypes.func.isRequired,\n};\n\nexport default Modal;\n","import React, { useState } from 'react';\nimport styles from '../../../utils/styles.module.css';\nimport Modal from '../../Modal/Modal';\nimport PropTypes from 'prop-types';\n\nfunction ImageGalleryItem({ url, alt, largeImageURL }) {\n  const [isModalOpen, setIsModalOpen] = useState(false);\n\n  const openModal = () => setIsModalOpen(true);\n  const closeModal = () => setIsModalOpen(false);\n\n  return (\n    <li className={styles.ImageGalleryItem}>\n      <img\n        src={url}\n        alt={alt}\n        className={styles['ImageGalleryItem-image']}\n        onClick={openModal}\n      />\n      {isModalOpen && (\n        <Modal closeModal={closeModal}>\n          <img src={largeImageURL} alt={alt} />\n        </Modal>\n      )}\n    </li>\n  );\n}\n\nImageGalleryItem.propTypes = {\n  url: PropTypes.string.isRequired,\n  alt: PropTypes.string.isRequired,\n  largeImageURL: PropTypes.string.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import ImageGalleryItem from './ImageGalleryItem/ImageGalleryItem';\nimport s from '../../utils/styles.module.css';\nimport PropTypes from 'prop-types';\n\nfunction ImageGallery({ gallery }) {\n  return (\n    <>\n      <ul className={s.ImageGallery}>\n        {gallery.map(({ id, webformatURL, largeImageURL, tags }) => (\n          <ImageGalleryItem\n            key={id}\n            url={webformatURL}\n            alt={tags}\n            largeImageURL={largeImageURL}\n          />\n        ))}\n      </ul>\n    </>\n  );\n}\n\nImageGallery.propTypes = {\n  gallery: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      webformatURL: PropTypes.string.isRequired,\n      largeImageURL: PropTypes.string.isRequired,\n      tags: PropTypes.string.isRequired,\n    }),\n  ).isRequired,\n};\n\nexport default ImageGallery;\n","import s from '../../utils/styles.module.css';\nimport PropTypes from 'prop-types';\n\nfunction Button({ pageChanger }) {\n  return (\n    <button type=\"button\" className={s.Button} onClick={pageChanger}>\n      Load more\n    </button>\n  );\n}\n\nButton.propTypes = {\n  pageChanger: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import React, { Component } from 'react';\nimport Searchbar from '../Components/Searchbar/Searchbar';\nimport get from '../utils/image-api';\nimport ImageGallery from '../Components/ImageGallery/ImageGallery';\nimport Button from '../Components/Button/Button';\n\n// import LoaderSection from '../Components/Loader/Loader';\n\nclass GalleryContainer extends Component {\n  state = {\n    gallery: [],\n    query: '',\n    page: 1,\n    isLoading: false,\n    error: false,\n  };\n\n  onChangeQuery = query => {\n    this.setState({\n      query,\n      page: 1,\n      gallery: [],\n    });\n  };\n\n  fetchRequest = async () => {\n    try {\n      const { query, page } = this.state;\n      const response = await get(query, page);\n      return response.data.hits;\n    } catch (error) {\n      this.setState({\n        error: true,\n      });\n    }\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const { query, page } = this.state;\n\n    if (query !== prevState.query) {\n      this.setState({\n        isLoading: true,\n      });\n      const request = async () => {\n        const result = await this.fetchRequest();\n        this.setState({\n          gallery: [...result],\n          isLoading: false,\n        });\n      };\n      request();\n    }\n\n    if (page !== prevState.page) {\n      this.setState({\n        isLoading: true,\n      });\n      const request = async () => {\n        const result = await this.fetchRequest();\n        this.setState(state => ({\n          gallery: [...state.gallery, ...result],\n          isLoading: false,\n        }));\n\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: 'smooth',\n        });\n      };\n      request();\n    }\n  }\n\n  pageChanger = () => {\n    this.setState(state => ({\n      page: state.page + 1,\n    }));\n  };\n\n  render() {\n    const { gallery, isLoading, error } = this.state;\n    return (\n      <>\n        <Searchbar onChangeQuery={this.onChangeQuery} />\n        {error && <h1>something gone wrong, try again later</h1>}\n        {!!gallery.length && !error && (\n          <>\n            <ImageGallery gallery={gallery} />\n            {!isLoading && <Button pageChanger={this.pageChanger} />}\n          </>\n        )}\n        {/* {isLoading && <LoaderSection />} */}\n      </>\n    );\n  }\n}\nexport default GalleryContainer;\n","import React from 'react';\nimport GalleryContainer from './GalleryContainer/GalleryContainer';\n\nfunction App() {\n  return <GalleryContainer />;\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}